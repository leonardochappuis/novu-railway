FROM ghcr.io/novuhq/novu/ws:0.19.0

ARG PORT
ARG NODE_ENV
ARG MONGO_URL
ARG MONGO_MAX_POOL_SIZE
ARG REDIS_HOST
ARG REDIS_PORT
ARG REDIS_PASSWORD
ARG JWT_SECRET
ARG WS_CONTEXT_PATH

ENV PORT=${WS_PORT}
ENV NODE_ENV=${NODE_ENV}
ENV MONGO_URL=${MONGO_URL}
ENV MONGO_MAX_POOL_SIZE=${MONGO_MAX_POOL_SIZE}
ENV REDIS_HOST=${REDIS_HOST}
ENV REDIS_PORT=${REDIS_PORT}
ENV REDIS_PASSWORD=${REDIS_PASSWORD}
ENV JWT_SECRET=${JWT_SECRET}
ENV WS_CONTEXT_PATH=${WS_CONTEXT_PATH}

EXPOSE 3002